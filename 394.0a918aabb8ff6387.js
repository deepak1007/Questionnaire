"use strict";(self.webpackChunkquestionnair=self.webpackChunkquestionnair||[]).push([[394],{4394:(ot,y,o)=>{o.r(y),o.d(y,{CreateQuestionModule:()=>lt});var p=o(9808),h=o(8113),d=o(3075),t=o(5e3),q=o(2468),Q=o(6757),b=o(9224),v=o(9814),f=o(7322),w=o(7531),M=o(7423),m=o(508),u=o(3191),x=o(7579),g=o(2722);o(8675),o(3589),o(449),o(1159);let N=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[m.BQ],m.BQ]}),s})();const k=["*"],B=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],E=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],J=(0,m.Id)((0,m.Kr)(class{})),j=(0,m.Kr)(class{}),A=new t.OlP("MatList"),U=new t.OlP("MatNavList");let Y=(()=>{class s extends J{constructor(i){super(),this._elementRef=i,this._stateChanges=new x.x,"action-list"===this._getListType()&&i.nativeElement.classList.add("mat-action-list")}_getListType(){const i=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===i?"list":"mat-action-list"===i?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return s.\u0275fac=function(i){return new(i||s)(t.Y36(t.SBq))},s.\u0275cmp=t.Xpm({type:s,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[t._Bn([{provide:A,useExisting:s}]),t.qOj,t.TTD],ngContentSelectors:k,decls:1,vars:0,template:function(i,e){1&i&&(t.F$t(),t.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),s})(),I=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=t.lG2({type:s,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),s})(),S=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=t.lG2({type:s,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),s})(),G=(()=>{class s extends j{constructor(i,e,a,l){super(),this._element=i,this._isInteractiveList=!1,this._destroyed=new x.x,this._disabled=!1,this._isInteractiveList=!!(a||l&&"action-list"===l._getListType()),this._list=a||l;const r=this._getHostElement();"button"===r.nodeName.toLowerCase()&&!r.hasAttribute("type")&&r.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,g.R)(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(i){this._disabled=(0,u.Ig)(i)}ngAfterContentInit(){(0,m.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return s.\u0275fac=function(i){return new(i||s)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(U,8),t.Y36(A,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,e,a){if(1&i&&(t.Suo(a,I,5),t.Suo(a,S,5),t.Suo(a,m.X2,5)),2&i){let l;t.iGM(l=t.CRH())&&(e._avatar=l.first),t.iGM(l=t.CRH())&&(e._icon=l.first),t.iGM(l=t.CRH())&&(e._lines=l)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(i,e){2&i&&t.ekj("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[t.qOj],ngContentSelectors:E,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(i,e){1&i&&(t.F$t(B),t.TgZ(0,"div",0),t._UZ(1,"div",1),t.Hsn(2),t.TgZ(3,"div",2),t.Hsn(4,1),t.qZA(),t.Hsn(5,2),t.qZA()),2&i&&(t.xp6(1),t.Q6J("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[m.wG],encapsulation:2,changeDetection:0}),s})(),it=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[m.uc,m.si,m.BQ,m.us,p.ez],m.uc,m.BQ,m.us,N]}),s})();var Z=o(8326);function et(s,n){if(1&s){const i=t.EpF();t.ynx(0),t.TgZ(1,"mat-list-item",22),t.TgZ(2,"div",23),t.TgZ(3,"span",24),t.TgZ(4,"div",25),t._uU(5),t.qZA(),t.TgZ(6,"div",13),t.TgZ(7,"mat-icon",26),t.NdJ("click",function(){const l=t.CHM(i).index;return t.oxw(2).editOption(l)}),t._uU(8,"edit"),t.qZA(),t.TgZ(9,"mat-icon",27),t.NdJ("click",function(){const l=t.CHM(i).index;return t.oxw(2).deleteOption(l)}),t._uU(10,"delete"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",28),t._UZ(12,"input",29),t.TgZ(13,"button",30),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).focusedItem=-1}),t._uU(14,"Done"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&s){const i=n.$implicit,e=n.index,a=t.oxw(2);t.xp6(3),t.Q6J("hidden",a.focusedItem==e),t.xp6(2),t.hij(" ",i.value," "),t.xp6(6),t.Q6J("hidden",a.focusedItem!=e),t.xp6(1),t.s9C("formControlName",e)}}function st(s,n){if(1&s){const i=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"div",16),t.TgZ(2,"mat-form-field",17),t.TgZ(3,"mat-label"),t._uU(4,"Add Option"),t.qZA(),t._UZ(5,"input",18),t.qZA(),t.TgZ(6,"button",19),t.NdJ("click",function(){return t.CHM(i),t.oxw().addOption()}),t._uU(7,"Add"),t.qZA(),t.qZA(),t.TgZ(8,"mat-list",20),t.YNc(9,et,15,4,"ng-container",21),t.qZA(),t.TgZ(10,"div",8),t.TgZ(11,"span",9),t._uU(12,"Please enter atleast 2 options"),t.qZA(),t.qZA(),t.qZA()}if(2&s){const i=t.oxw();t.xp6(9),t.Q6J("ngForOf",i.optionsControl.controls),t.xp6(1),t.Q6J("hidden",!i.submitted),t.xp6(1),t.Q6J("hidden",!(null!=i.questionForm.errors&&i.questionForm.errors.lessOptions))}}let F=(()=>{class s{constructor(i,e,a,l,r){this.fb=i,this.ds=e,this.ar=a,this.validatorService=l,this.router=r,this.questionForm=this.fb.group({id:[this.ds.generateNewQuestionId()],question:["",d.kI.required],type:["single",[d.kI.required,d.kI.pattern("single|multiple|open")]],answered:[!1],newOptionValue:[],options:this.fb.array([]),createdAt:[],correctAnswer:[],answeredAt:[]},{validators:[this.validatorService.optionCountValidator()]}),this.focusedItem=-1,this.submitted=!1,this.action="create",this.questionId=-1}ngOnInit(){this.action=this.ar.snapshot.paramMap.get("action"),"edit"==this.action&&this.handleEdit()}handleEdit(){const i=Number(this.ar.snapshot.paramMap.get("questionId"));if(isNaN(i))return alert("invalid questionId"),void this.router.navigate(["/questions/manage"]);this.questionId=i;const e=this.getQuestion(this.questionId);e||(alert("question doesn't extist"),this.router.navigate(["/question/create"])),this.patchForm(e)}getQuestion(i){return this.ds.getQuestion(i)}addOption(){!this.newOptionValueControl.value||(this.optionsControl.push(this.newOption(this.newOptionValueControl.value)),this.newOptionValueControl.patchValue(""))}newOption(i){return this.fb.control(i)}editOption(i){if(this.questionForm.get("answered").value)return alert("Cannot edit option as this question is marked answered.");this.focusedItem=i}deleteOption(i){if(this.questionForm.get("answered").value)return alert("Cannot delete option as this question is marked answered.");this.optionsControl.controls.splice(i,1)}onSubmit(){if(this.submitted=!0,"INVALID"==this.questionForm.status)return alert("please fill valid details");if("open"==this.typeControl.value&&this.optionsControl.controls.splice(0),this.newOptionValueControl.setValue(""),"edit"==this.action)return this.saveQuestion();const i=this.questionForm.getRawValue();this.ds.saveNewQuestion(i),this.router.navigate(["/"])}saveQuestion(){this.ds.saveQuestion(this.questionForm.getRawValue()),this.router.navigate(["/"])}patchForm(i){this.questionForm.patchValue(i),("single"==i.type||"multiple"==i.type)&&this.optionsControl.controls.push(...i.options.map(e=>this.newOption(e)))}get questionControl(){return this.questionForm.controls.question}get typeControl(){return this.questionForm.controls.type}get optionsControl(){return this.questionForm.controls.options}get newOptionValueControl(){return this.questionForm.controls.newOptionValue}}return s.\u0275fac=function(i){return new(i||s)(t.Y36(d.qu),t.Y36(q.D),t.Y36(h.gz),t.Y36(Q.S),t.Y36(h.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-create-question"]],decls:31,vars:7,consts:[[1,"example-card"],[1,"header"],["novalidate","",1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["aria-label","Select an option","formControlName","type"],["color","primary","value","single"],["value","multiple"],["value","open"],[1,"errors",3,"hidden"],[1,"error",3,"hidden"],["appearance","fill"],["matInput","","formControlName","question"],["class","form-group",4,"ngIf"],[1,"buttons"],["mat-button","","color","warn","type","button","routerLink","/"],["mat-raised-button","","color","primary","type","submit"],[1,"add-option-input"],["appearance","fill",1,"example-full-width"],["matInput","","formControlName","newOptionValue"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a delete icon0","type","button",3,"click"],["role","list","formArrayName","options"],[4,"ngFor","ngForOf"],["role","listitem"],[1,"form-group","item"],[1,"item-actions",3,"hidden"],[1,"option"],["color","accent","aria-label","Example icon button with a delete icon0","type","button",1,"closeInput",3,"click"],["color","warn","aria-label","Example icon button with a delete icon0","type","button",1,"closeInput",3,"click"],[1,"edit",3,"hidden"],["type","text",3,"formControlName"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a delete icon0","type","button",1,"closeInput",3,"click"]],template:function(i,e){1&i&&(t.TgZ(0,"section"),t.TgZ(1,"mat-card",0),t.TgZ(2,"h2",1),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-content"),t.TgZ(5,"form",2),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(6,"div",3),t.TgZ(7,"mat-radio-group",4),t.TgZ(8,"mat-radio-button",5),t._uU(9,"Single"),t.qZA(),t.TgZ(10,"mat-radio-button",6),t._uU(11,"Multiple"),t.qZA(),t.TgZ(12,"mat-radio-button",7),t._uU(13,"Open"),t.qZA(),t.qZA(),t.TgZ(14,"div",8),t.TgZ(15,"span",9),t._uU(16,"Please select an option"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",3),t.TgZ(18,"mat-form-field",10),t.TgZ(19,"mat-label"),t._uU(20,"Question Text"),t.qZA(),t._UZ(21,"textarea",11),t.qZA(),t.TgZ(22,"div",8),t.TgZ(23,"span",9),t._uU(24,"Question is required"),t.qZA(),t.qZA(),t.qZA(),t.YNc(25,st,13,3,"div",12),t.TgZ(26,"div",13),t.TgZ(27,"button",14),t._uU(28,"Back To Manage"),t.qZA(),t.TgZ(29,"button",15),t._uU(30,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(3),t.hij("",e.action," question"),t.xp6(2),t.Q6J("formGroup",e.questionForm),t.xp6(9),t.Q6J("hidden",!e.submitted),t.xp6(1),t.Q6J("hidden",!(null!=e.typeControl.errors&&e.typeControl.errors.required)),t.xp6(7),t.Q6J("hidden",!e.submitted),t.xp6(1),t.Q6J("hidden",!(null!=e.questionControl.errors&&e.questionControl.errors.required)),t.xp6(2),t.Q6J("ngIf","open"!=e.typeControl.value))},directives:[b.a8,b.dn,d._Y,d.JL,d.sg,v.VQ,d.JJ,d.u,v.U0,f.KE,f.hX,w.Nt,d.Fj,p.O5,M.lW,h.rH,Y,d.CE,p.sg,G,Z.Hw],styles:["[hidden][_ngcontent-%COMP%]{display:none!important}section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:10px}.example-card[_ngcontent-%COMP%]{width:400px;max-height:80vh}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex-basis:auto}.error[_ngcontent-%COMP%]{color:red}.form-group[_ngcontent-%COMP%]{width:100%;padding:12px 5px}.item-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]{text-transform:capitalize}.add-option-input[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;font-size:16px;margin-right:5px}mat-list[_ngcontent-%COMP%]{max-height:18vh;overflow-y:auto}mat-radio-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between}mat-form-field[_ngcontent-%COMP%]{width:100%}.add-option-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:5px}@media screen and (max-width : 850px){.example-card[_ngcontent-%COMP%]{width:90%}}"]}),s})();const at=[{path:":action",component:F},{path:":action/:questionId",component:F}];let nt=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[h.Bz.forChild(at)],h.Bz]}),s})(),lt=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[p.ez,nt,d.u5,d.UX,f.lN,w.c,v.Fk,Z.Ps,M.ot,it,b.QW]]}),s})()}}]);